# Анализ механических часов

Этот проект включает в себя программу для обработки данных о механических часах, а также утилиту для анализа и вывода информации.

## Компиляция

Чтобы скомпилировать основной код и утилиту анализа, используйте следующие команды:

```sh
gcc main.c -o main
gcc stats.c -o stats
```

## Запуск

### Создание бинарного файла из CSV:
```sh
./main.exe mechanical_watches.csv out.bin
```

### Анализ данных:

1. **Поиск самых дешёвых часов с максимальной глубиной погружения**:
   ```sh
   ./stats.exe out.bin stats
   ```
   
2. **Вывод полной базы данных часов**:
   ```sh
   ./stats.exe out.bin data_base
   ```

3. **Вывод первых 15 часов из базы**:
   ```sh
   ./stats.exe out.bin data_base short
   ```

## Описание файлов

- **`main.c`** – Преобразует CSV-файл в бинарный формат.
- **`stats.c`** – Анализирует бинарные данные и выводит запрашиваемую информацию.
- **`watches.h`** – Описание структуры `watches`, содержащей данные о часах.
- **`mechanical_watches.csv`** – Исходный файл с данными о механических часах.

## Структура данных

В файле `watches.h` описана структура `watches`:

```c
typedef struct {
    char brand[20];
    char model[20];
    char mekanism_type[20];
    char case_material[20];
    int case_diameter;
    int case_thickness;
    char glass_type[10];
    int water_resistance;
    int power_reserve;
    char bracelet_type[10];
    int price;
} watches;
```

## Описание функционала

- **`main.c`**:
  - Читает CSV-файл и преобразует его в бинарный формат.
  - Проверяет наличие и корректность входных данных.
  - Записывает данные в бинарный файл `out.bin`.

- **`stats.c`**:
  - Читает бинарный файл и анализирует данные.
  - Выводит список всех часов (или только первых 15 в режиме `short`).
  - Определяет оптимальные часы для дайвинга: самые дешёвые с максимальной водозащитой.

## Возможные ошибки

Программа выводит сообщения об ошибках, если:
- Файл не найден или не может быть открыт.
- Недостаточно аргументов командной строки.
- Данные CSV-файла содержат некорректное количество параметров.
